@model FamilyMap.Models.Family
@{ Layout = null;}
&nbsp;
&nbsp;
&nbsp;
&nbsp;


<div class="form-group">
    <div class="row">
        <label for="name">Suffix</label>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <label for="name">First Name</label><label style="color:red">*</label>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        <label for="name">Middle Name</label>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        <label for="name">Last Name</label><label style="color:red">*</label> 
        <br />
        <select id="suffix" name="suffix">
            <option value="Mr">Mr</option>
            <option value="Ms">Ms</option>
        </select>
        &nbsp;&nbsp; 
        <input id="firstName" class="form-control" maxlength="32" required="" type="text" placeholder="First Name" /> 
        <span id="firstNameStatus" class="mycolor"></span>
        &nbsp;&nbsp; 
        <input id="middleName" class="form-control" type="text" placeholder="Middle Name" />
        &nbsp;&nbsp;&nbsp; 
        <input id="lastName" class="form-control" maxlength="10" required="" type="text" placeholder="Last Name" />
        <br /> 
        <span id="lastNameStatus" class="mycolor"></span>
    </div>
    <br /><br />
    <div class="row">
        &nbsp;&nbsp; 
        <label for="name">Date of Birth</label>
        <label style="color:red">*</label>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        <label for="name">Gender</label><label style="color:red">*</label> 
        <br /> 
        <input id="dob" class="form-control" min="1900-01-01" required="" type="date" />
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        <input id="male" name="gender" type="radio" value="male" /> Male 
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        <input id="female" name="gender" type="radio" value="female" /> Female
    </div>
</div>
<p>&nbsp;</p>


<div class="col-md-6">
    <button class="btn btn-primary" style="color: green;" type="button">Add Member</button>
    <button class="btn btn-primary" style="color: green;" type="button">Save and Exit</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button class="btn btn-primary" style="color: green;" type="button">Back</button> <button class=" btn btn-primary" style="color: green;" type="button">Next</button>
</div>

<br /><br /><br /><br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<label style="color:red"> * represents that the fields are mandatory</label>


    <script src="~/Scripts/jquery-3.3.1.js"></script>
    <script>

    function Back() {
        if (@Session["UserID"]== 1) { window.location.href = 'http://localhost:52522/FamilyMap/HomePageForAdmin' }
        else { window.location.href='http://localhost:52522/FamilyMap/HomePageForUser' }
    }

    function Next() {
        var result = validate();
        if (result == false) {
            alert("Something went wrong in Data!!!!! Pls check");
        }

        else {
            var MemberDetail = {
                suffix: $('#suffix').val(),
                firstName: $('#firstName').val(),
                middleName: $('#middleName').val(),
                lastName: $('#lastName').val(),
                dob: $('#dob').val(),
                gender: $("input:radio[name=gender]:checked").val(),

            }

            $.ajax({
                url: 'http://localhost:52522/FamilyMap/AddFamilyMember',
                data: JSON.stringify(MemberDetail),
                type: "POST",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (data) {
                    window.location.href = 'http://localhost:52522/FamilyMap/AddMemberCategory'
                },
                error: function (data) {
                    alert(data.responseText);
                }
            });
        }

    }

    function SaveAndExit() {
        var result = validate();
        if (result == false) {
            alert("Something went wrong in Data!!!!! Pls check");
        }

        else {
            var MemberDetail = {
                suffix: $('#suffix').val(),
                firstName: $('#firstName').val(),
                middleName: $('#middleName').val(),
                lastName: $('#lastName').val(),
                dob: $('#dob').val(),
                gender: $("input:radio[name=gender]:checked").val(),

            }

            $.ajax({
                url: 'http://localhost:52522/FamilyMap/AddFamilyMember',
                data: JSON.stringify(MemberDetail),
                type: "POST",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (data) {
                    window.location.href = 'http://localhost:52522/FamilyMap/ShowApplicationNumber'
                },
                error: function (data) {
                    alert(data.responseText);
                }
            });
        }
    }
    </script>
    <script>

        function AddMember() {
            var result = validate();
            if (result == false) {
                alert("Something went wrong in Data!!!!! Pls check");
            }

            else {
                var MemberDetail = {
                    suffix: $('#suffix').val(),
                    firstName: $('#firstName').val(),
                    middleName: $('#middleName').val(),
                    lastName: $('#lastName').val(),
                    dob: $('#dob').val(),
                    gender: $("input:radio[name=gender]:checked").val(),

                }

                $.ajax({
                    url: 'http://localhost:52522/FamilyMap/AddFamilyMember',
                    data: JSON.stringify(MemberDetail),
                    type: "POST",
                    contentType: "application/json;charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        window.location.href = 'http://localhost:52522/FamilyMap/AddMemberCategory'
                    },
                    error: function (data) {
                        alert(data.responseText);
                    }
                });
            }
        }
    </script>

    <script type="text/javascript">

        function validate() {
            var isValid = true;
            var firstNameVal = /^[a-zA-Z'*-]+$/;


            /*******************FIRSTNAME VALIDATION*****************/
            if (!$('#firstName').val().match(firstNameVal)) {
                $('#firstName').css('border-color', 'Red');
                $('#firstNameStatus').html("First Name can be alphabet and special character!!!").css('color', 'Red');
                isValid = false;
            } else {
                $('#firstName').css('border-color', 'Green');
                $('#firstNameStatus').html("");
            }

            /*******************LASTNAME VALIDATION*****************/
            if (!$('#lastName').val().match(firstNameVal)) {
                $('#lastName').css('border-color', 'Red');
                $('#lastNameStatus').html("Last Name can be alphabet and special character!!!").css('color', 'Red');
                isValid = false;
            } else {
                $('#lastName').css('border-color', 'Green');
                $('#lastNameStatus').html("");
            }
            return isValid;
        }
    </script>
